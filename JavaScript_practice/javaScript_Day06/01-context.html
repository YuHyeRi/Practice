<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        var a = 1;                  // 1. 변수 선언
        function outer() {          // 2. 함수 선언
            console.log(a);         // 5. a찾으러 여행갔다가 1번 변수 a 출력
            function inner() {      // 4. 위에 console.log(a)보다 먼저 선언이됨(호이스팅)
                console.log(a);     // 8. a 변수가 선언만 되고 초기화가 안됐으니까 undefined로 출력
                var a = 3;          // 7. 호이스팅 때문에 먼저 변수가 선언이 되고 초기화는 나중에 된다
            }
            inner();                // 6. inner 함수 호출 (끝나면 가비지컬렉터에 의해 inner 함수 내부에 있는 모든 것들이(context) 소멸(inner함수 자체는 살아있음))
            console.log(a);         // 9. 끝나면 가비지컬렉터에 의해 outer 함수 내부에 있는 모든 것들(inner함수까지)이 소멸
        }
        outer();                    // 3.  outer 함수 호출
        console.log(a);             // 10. 전역 컨텍스트 소멸
    </script>
</body>
</html>